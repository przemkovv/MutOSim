
set tags=tags,./tags

set makeprg=make\ -j3\ -C\ build/
setlocal path=.,build/include,/usr/include,/usr/include/c++/7.2.1,src/,

" set omnifunc=lsp#complete
set colorcolumn=91

set fixendofline


let g:neomake_cpp_clangcheck_args = ['-p=build/ -analyze']
let g:neomake_cpp_clang_args = [
            \ '-std=c++17','-DSIM_DEBUG=1','-DSPDLOG_FMT_EXTERNAL','-isystem build/include',
            \ '-I./src','-fopenmp=libomp','-O2','-DNDEBUG', '-fsyntax-only', '-fsanitize=undefined',
            \ '-Werror','-Weffc++','-Weverything','-Wno-c++98-compat','-Wno-padded']
let g:neomake_cpp_clangtidy_args = ['-p=build/',
            \ '--checks=*,-fuchsia-default-arguments',
            \ '--header-filter="(?!pprint.hpp|?!json.hpp).*"',
            \ '--export-fixes=.clang-tidy-fixes']

let g:clang_compilation_database = "build/"

let $FZF_DEFAULT_COMMAND = 'ag --ignore data -g ""'


" autocmd BufWritePost *.h,*.hpp,*.cpp,*.c :Start! make -C build/ ctags >/dev/null
" autocmd BufWritePost *.h,*.hpp,*.cpp,*.c call jobstart("make -C build/ ctags", {'cwd': '.'})
" autocmd BufWritePost *.h,*.hpp,*.cpp,*.c :NeomakeSh! make -C build/ ctags > /dev/null
